%3.51
% fwd 1.5 @v0.3
% turn 180
% fwd 1.5

%3.52
% fwd 1 @v0.3
% turn 90
% fwd 1
% turn 90
% fwd 1
% turn 90
% fwd 1
% turn 90


%3.53
% fwd 0.75 @v 0.1
% drive :($drivendist>0.3)
% turnr 0.3 90
% drive :($drivendist>0.3)
% turnr 0.3 90
% drive :($drivendist>0.3)
% turnr 0.3 90
% drive :($drivendist>0.3)
% turnr 0.3 90
% stop

%3.53
% fwd 0.75 @v 0.9
% drive :($drivendist>0.3)
% turnr 0.3 90
% drive :($drivendist>0.3)
% turnr 0.3 90
% drive :($drivendist>0.3)
% turnr 0.3 90
% drive :($drivendist>0.3)
% turnr 0.3 90
% stop

%3.54
% followline "bm" @v 0.3 :($drivendist > 1)
% stop

%3.55
% turn 1
% followline "br" @v 0.3 :($drivendist > 1.5)
% stop

%3.56
% turn 1
% followline "bl" @v 0.3 :($drivendist > 1.5)
% stop

% 3.57
% followline "bl" @v 0.3 :($crossingblackline > 0)
% %($drivendist > 1.5)
% stop

% 3.58
% followline "br" @v 0.3 :($irdistfrontmiddle < 0.4)
% stop

% followline "bl" @v 0.3 :($irdistfrontmiddle < 0.45)|($crossingblackline > 0)
% stop

% 3.510

% followline "br" @v 0.3 :($irdistfrontmiddle < 0.45)
% switch($fiducialid)
% 	stop
% case 1
% 	turn -90

% case 2 
% 	turn 90

% endswitch
% fwd 0.25

% 3.511
% followline "br" @v 0.3 :($irdistfrontmiddle < 0.45)
% switch($fiducialid)
% 	stop
% case 1
% 	fwd -0.7
% 	followline "bl" @v 0.3 :($crossingblackline > 0)


% case 2 
% 	fwd -0.7
% 	followline "bl" @v 0.3 :($crossingblackline > 0)
% 	fwd 0.2
% 	followline "bl" @v 0.3 :($crossingblackline > 0)
% case 3
% 	fwd -0.7
% 	followline "bl" @v 0.3 :($crossingblackline > 0)
% 	fwd 0.2
% 	followline "bl" @v 0.3 :($crossingblackline > 0)
% 	fwd 0.2
% 	followline "bl" @v 0.3 :($crossingblackline > 0)
% case 4
% 	fwd -0.7
% 	followline "bl" @v 0.3 :($crossingblackline > 0)
% 	fwd 0.2
% 	followline "bl" @v 0.3 :($crossingblackline > 0)
% 	fwd 0.2
% 	followline "bl" @v 0.3 :($crossingblackline > 0)
% 	fwd 0.2
% 	followline "bl" @v 0.3 :($crossingblackline > 0)

% endswitch
% fwd 0.25